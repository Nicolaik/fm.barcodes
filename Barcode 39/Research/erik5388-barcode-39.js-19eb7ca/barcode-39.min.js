/*!
 * Barcode39 v0.0.2 ~ Copyright (c) 2012 Erik Zettersten, http://zettersten.com
 * Released under MIT license
 */

(function(){var d;[].indexOf||(Array.prototype.indexOf=function(b,c,a){a=this.length;for(c=(a+~~c)%a;c<a&&(!(c in this)||this[c]!==b);c++);return c^a?c:-1});"".trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")});var h=[["0","NnNwWnWnN","bwbWBwBwb"],["1","WnNwNnNnW","BwbWbwbwB"],["2","NnWwNnNnW","bwBWbwbwB"],["3","WnWwNnNnN","BwBWbwbwb"],["4","NnNwWnNnW","bwbWBwbwB"],["5","WnNwWnNnN","BwbWBwbwb"],["6","NnWwWnNnN","bwBWBwbwb"],["7","NnNwNnWnW","bwbWbwBwB"],
["8","WnNwNnWnN","BwbWbwBwb"],["9","NnWwNnWnN","bwBWbwBwb"],["A","WnNnNwNnW","BwbwbWbwB"],["B","NnWnNwNnW","bwBwbWbwB"],["C","WnWnNwNnN","BwBwbWbwb"],["D","NnNnWwNnW","bwbwBWbwB"],["E","WnNnWwNnN","BwbwBWbwb"],["F","NnWnWwNnN","bwBwBWbwb"],["G","NnNnNwWnW","bwbwbWBwB"],["H","WnNnNwWnN","BwbwbWBwb"],["I","NnWnNwWnN","bwBwbWBwb"],["J","NnNnWwWnN","bwbwBWBwb"],["K","WnNnNnNwW","BwbwbwbWB"],["L","NnWnNnNwW","bwBwbwbWB"],["M","WnWnNnNwN","BwBwbwbWb"],["N","NnNnWnNwW","bwbwBwbWB"],["O","WnNnWnNwN","BwbwBwbWb"],
["P","NnWnWnNwN","bwBwBwbWb"],["Q","NnNnNnWwW","bwbwbwBWB"],["R","WnNnNnWwN","BwbwbwBWb"],["S","NnWnNnWwN","bwBwbwBWb"],["T","NnNnWnWwN","bwbwBwBWb"],["U","WwNnNnNnW","BWbwbwbwB"],["V","NwWnNnNnW","bWBwbwbwB"],["W","WwWnNnNnN","BWBwbwbwb"],["X","NwNnWnNnW","bWbwBwbwB"],["Y","WwNnWnNnN","BWbwBwbwb"],["Z","NwWnWnNnN","bWBwBwbwb"],["-","NwNnNnWnW","bWbwbwBwB"],[".","WwNnNnWnN","BWbwbwBwb"],[" ","NwWnNnWnN","bWBwbwBwb"],["$","NwNwNwNnN","bWbWbWbwb"],["/","NwNwNnNwN","bWbWbwbWb"],["+","NwNnNwNwN","bWbwbWbWb"],
["%","NnNwNwNwN","bwbWbWbWb"],["*","NwNnWnWnN","bWbwBwBwb"]],l=function(b,c){b=(""+b).toUpperCase();c=c?+c:2;for(var a=0;a<h.length;a++)if(b===h[a][0])return h[a][c]},k=[];d=function(b,c,a){this.codes=h;this.version="0.0.2";this.barcode=null;this.element=document.getElementById(b||"barcode");this.delimeter=a||"*";this.type=c||2;this.init()};d.prototype.toString=function(){return this.barcode?(this.delimeter+this.barcode+this.delimeter).trim():""};d.prototype.toBarcode=function(){var b=k.join(""),
b=b.slice(0,b.length-1);return b.trim()};d.prototype.toDataURL=function(){if("undefined"===typeof this.element)throw Error("Element not defined.");var b=document.createElement("canvas");if(!b.getContext)throw Error("Canvas not supported.");var c=this.element.innerText.toUpperCase().trim(),a=+c.length,d=15*a+(a-1),f=360>a?400:a+40,a=b.getContext("2d");a.clearRect(0,0,b.width,b.height);b.height=120;b.width=f;a.fillStyle="rgba(255,255,255, 0.0)";a.fillRect(0,0,b.width,b.height);for(var e=Math.round(f/
2-d/2),d=0;d<c.length;d++){var g=l(c[d]);k.push("["+g+"]w");if(""===typeof g||"undefined"===typeof g)g=l("-");for(f=0;f<g.length;f++)a.fillStyle=0==f%2?"rgb(0,0,0)":"rgba(255,255,255, 0.0)",91>g.charCodeAt(f)?(a.fillRect(e,20,3,80),e+=3):(a.fillRect(e,20,1,80),e+=1);d!=c.length-1&&(a.fillStyle="rgba(255,255,255, 0.0)",a.fillRect(e,20,1,80),e+=1)}this.barcode=c;return b.toDataURL()};d.prototype.init=function(){k=[];var b=this.toDataURL();this.element.innerHTML='<img src="'+b+'" />'};window.Barcode39=
d})();